<!DOCTYPE html>
<html lang="zh-Hant">
<head>
<meta charset="UTF-8" />
<title>æš—é»‘æ˜Ÿç«æ¨¡æ“¬å™¨</title>
<link id="themeStylesheet" rel="stylesheet" href="style-dark.css" />
<style>
  body {
    font-family: 'Noto Sans TC', 'Microsoft JhengHei', sans-serif;
    margin: 0;
    padding: 20px;
  }
  h2 { margin-top: 0; }

  /* å³ä¸Šè§’åˆ‡æ›æŒ‰éˆ• */
  #themeToggleBtn {
    position: fixed;
    top: 15px;
    right: 15px;
    z-index: 1000;
    background: none;
    border: none;
    font-size: 24px;
    cursor: pointer;
    color: inherit;
    line-height: 1;
    padding: 0;
    margin: 0;
  }

    .main-layout {
      display: flex;
      gap: 20px;
      margin-top: 40px;
      flex-wrap: wrap;
    }

    .column-left {
      width: 200px;
    }

    .column-middle, .column-right {
      flex: 1;
    }

    #statistics, #output {
      font-family: 'Noto Sans Mono CJK', 'Microsoft JhengHei', monospace;
      font-weight: 600; /* â† åŠ ç²— */
      padding: 10px;
      border-radius: 6px;
      white-space: pre-wrap;
      word-break: break-word;
      max-height: 600px;
      overflow-y: auto;
    }

    label, input, select, button {
      display: block;
      margin-bottom: 10px;
      font-family: inherit;
      font-size: 1rem;
    }

    button#startSimBtn {
      padding: 10px 20px;
    }

  /* æ‰‹æ©Ÿè‡ªå‹•ä¸Šä¸‹æ’ */
  @media (max-width: 900px) {
    .main-layout { flex-wrap: wrap; }
    .column-left, .column-middle, .column-right { flex: 100%; }
  }
</style>
</head>
<body>

<h2>æš—é»‘æ˜Ÿç«æ¨¡æ“¬å™¨</h2>

<!-- å³ä¸Šè§’åˆ‡æ›æŒ‰éˆ• -->
<button id="themeToggleBtn" title="åˆ‡æ›æ¨£å¼">ğŸŒ™</button>

<!-- é€™è£¡æ˜¯é—œéµï¼šåŒ…ä½ä¸‰æ¬„ -->
<div class="main-layout">
  <div class="column column-left">
      <label>è£å‚™ç­‰ç´šï¼š</label>
  <select id="equipLevel">
    <option value="250" selected>250ç­‰é˜²å…·</option>
    <option value="160">160ç­‰é˜²å…·</option>
  </select>
    <label>ç›®æ¨™ç­‰æ•ˆä¸»å±¬ï¼š</label>
    <input type="number" id="targetMain" value="89">

    <label>1%å…¨å±¬ç­‰æ•ˆä¸»å±¬ï¼š</label>
    <input type="number" id="oneAll" value="10.819" step="0.001">

    <label>1é­”æ”»ç­‰æ•ˆä¸»å±¬ï¼š</label>
    <input type="number" id="oneMA" value="1.65" step="0.001">

    <label>1ä¸»å±¬ç­‰æ•ˆå‰¯å±¬ï¼š</label>
    <input type="number" id="secStat" value="12" step="0.001">

    <label>æ¨¡æ“¬ä»¶æ•¸ï¼š</label>
    <input type="number" id="simCount" value="1000">

    <button id="startSimBtn">é–‹å§‹æ¨¡æ“¬</button>
  </div>

  <div class="column column-middle">
    <h3>çµ±è¨ˆçµæœ</h3>
    <pre id="statistics"></pre>
  </div>

  <div class="column column-right">
    <h3>æ¨¡æ“¬çµæœ</h3>
    <pre id="output"></pre>
  </div>
</div>

<script src="data.js"></script>
<script src="simulate.js"></script>

<script>
  const themeBtn = document.getElementById('themeToggleBtn');
  const themeLink = document.getElementById('themeStylesheet');

  // åˆå§‹åŒ–æŒ‰éˆ•åœ–ç¤º
  let currentTheme = localStorage.getItem('selectedStyle') || 'dark';
  themeLink.href = currentTheme === 'dark' ? 'style-dark.css' : 'style-light.css';
  themeBtn.textContent = currentTheme === 'dark' ? 'ğŸŒ™' : 'â˜€ï¸';

  themeBtn.addEventListener('click', () => {
    if (themeLink.href.includes('dark')) {
      themeLink.href = 'style-light.css';
      themeBtn.textContent = 'â˜€ï¸';
      localStorage.setItem('selectedStyle', 'light');
    } else {
      themeLink.href = 'style-dark.css';
      themeBtn.textContent = 'ğŸŒ™';
      localStorage.setItem('selectedStyle', 'dark');
    }
  });
</script>

</body>
</html>
